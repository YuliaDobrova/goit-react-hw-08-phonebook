{"version":3,"sources":["redux/auth/authOperations.js","redux/auth/authActions.js","redux/contacts/contactsActions.js","redux/auth/authSelectors.js","components/navigation/AuthNavStyled.js","components/navigation/AuthNav.js","components/navigation/NavigationStyled.js","components/navigation/Navigation.js","images/user.png","components/navigation/UserMenu.js","components/header/HeaderStyled.js","components/header/Header.js","routes/mainRoutes.js","components/main/MainStyled.js","components/main/Main.js","App.js","redux/auth/authReducer.js","redux/contacts/contactsReducer.js","redux/store.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","authOperations","register","credentials","dispatch","a","registerRequest","post","response","data","registerSuccess","registerError","message","logIn","loginRequest","loginSuccess","loginError","logOut","logoutRequest","logoutSuccess","logoutError","createAction","fetchContactsRequest","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","setFilter","getIsAuthenticated","state","Boolean","auth","getUserName","user","name","AuthNavigationContainer","styled","nav","AuthNav","className","to","exact","activeClassName","NavigationContainer","Navigation","styles","container","display","alignItems","avatar","marginRight","fontWeight","mapDispatchToProps","onLogout","connect","defaultAvatar","style","src","alt","width","type","onClick","HeaderContainer","header","isAuthenticated","mainRoutes","path","component","lazy","private","restricted","MainContainer","main","Main","fallback","color","height","map","route","App","initialUserState","email","userReducer","createReducer","_","payload","__","tokenReducer","errorReducer","action","authReducer","combineReducers","error","itemsReducer","actions","filter","item","id","Number","filterReducer","loadingReducer","contactsReducer","items","loading","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","store","configureStore","reducer","contacts","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29224390.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  // getCurrentUserRequest,\r\n  // getCurrentUserSuccess,\r\n  // getCurrentUserError,\r\n} from \"./authActions\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst register = (credentials) => async (dispatch) => {\r\n  dispatch(registerRequest());\r\n  try {\r\n    const response = await axios.post(\"/users/signup\", credentials);\r\n    token.set(response.data.token);\r\n    dispatch(registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(registerError(error.message));\r\n  }\r\n};\r\n\r\nconst logIn = (credentials) => async (dispatch) => {\r\n  dispatch(loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post(\"/users/login\", credentials);\r\n    token.set(response.data.token);\r\n    dispatch(loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logOut = () => async (dispatch) => {\r\n  dispatch(logoutRequest());\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n    token.unset();\r\n    dispatch(logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst authOperations = { register, logIn, logOut };\r\nexport default authOperations;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const registerRequest = createAction(\"auth/registerRequest\");\r\nexport const registerSuccess = createAction(\"auth/registerSuccess\");\r\nexport const registerError = createAction(\"auth/registerError\");\r\n\r\nexport const loginRequest = createAction(\"auth/loginRequest\");\r\nexport const loginSuccess = createAction(\"auth/loginSuccess\");\r\nexport const loginError = createAction(\"auth/loginError\");\r\n\r\nexport const logoutRequest = createAction(\"auth/logoutRequest\");\r\nexport const logoutSuccess = createAction(\"auth/logoutSuccess\");\r\nexport const logoutError = createAction(\"auth/logoutError\");\r\n\r\nexport const getCurrentUserRequest = createAction(\"auth/getCurrentUserRequest\");\r\nexport const getCurrentUserSuccess = createAction(\"auth/getCurrentUserSuccess\");\r\nexport const getCurrentUserError = createAction(\"auth/getCurrentUserError\");\r\n\r\n// const authActions = {\r\n//   registerRequest,\r\n//   registerSuccess,\r\n//   registerError,\r\n//   loginRequest,\r\n//   loginSuccess,\r\n//   loginError,\r\n//   logoutRequest,\r\n//   logoutSuccess,\r\n//   logoutError,\r\n//   getCurrentUserRequest,\r\n//   getCurrentUserSuccess,\r\n//   getCurrentUserError,\r\n// }\r\n// export default authActions;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  \"contacts/fetchContactsRequest\"\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  \"contacts/fetchContactsSuccess\"\r\n);\r\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\r\n\r\nexport const addContactRequest = createAction(\"contacts/addContactRequest\");\r\nexport const addContactSuccess = createAction(\"contacts/addContactSuccess\");\r\nexport const addContactError = createAction(\"contacts/addContactError\");\r\n\r\nexport const deleteContactRequest = createAction(\r\n  \"contacts/deleteContactRequest\"\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  \"contacts/deleteContactSuccess\"\r\n);\r\nexport const deleteContactError = createAction(\"contacts/deleteContactError\");\r\n\r\nexport const setFilter = createAction(\"contacts/setFilter\");\r\n\r\n// ==================================================================\r\n// REDUX-TOOLKIT\r\n// import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n// export const addContact = createAction(\"phonebook/addContact\");\r\n// export const deleteContact = createAction(\"phonebook/deleteContact\");\r\n// export const setFilter = createAction(\"phonebook/setFilter\");\r\n\r\n// const actions = { addContact, deleteContact, setFilter };\r\n// export default actions;\r\n\r\n// ==================================================================\r\n// Создай действия (actions) сохранения и удаления контакта, а также обновления фильтра.\r\n// REDUX\r\n// export const ADD_CONTACT = \"phonebook/addContact\";\r\n// export const DELETE_CONTACT = \"phonebook/deleteContact\";\r\n// export const SET_FILTER = \"phonebook/setFilter\";\r\n\r\n// const addContact = (newContact) => ({\r\n//   type: ADD_CONTACT,\r\n//   payload: newContact,\r\n// });\r\n// const deleteContact = (id) => ({ type: DELETE_CONTACT, payload: id });\r\n\r\n// const setFilter = (value) => ({ type: SET_FILTER, payload: value });\r\n// export { addContact, deleteContact, setFilter };\r\n","export const getIsAuthenticated = (state) => Boolean(state.auth.token);\r\n\r\nexport const getUserName = (state) => state.auth.user.name;\r\n\r\n// const authSelectors = { getIsAuthenticated, getUserName };\r\n// export default authSelectors;\r\n","import styled from \"styled-components\";\r\n\r\nexport const AuthNavigationContainer = styled.nav`\r\n  .navList {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n  .navListItem:not(:last-child) {\r\n    margin-right: 20px;\r\n  }\r\n  .navLink {\r\n    text-decoration: none;\r\n    font-weight: 700;\r\n    color: white;\r\n  }\r\n  .navLinkActive {\r\n    color: turquoise;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { AuthNavigationContainer } from \"./AuthNavStyled\";\r\n\r\nconst AuthNav = () => (\r\n  <AuthNavigationContainer>\r\n    <ul className=\"navList\">\r\n      <li className=\"navListItem\">\r\n        <NavLink\r\n          to=\"/register\"\r\n          exact\r\n          className=\"navLink\"\r\n          activeClassName=\"navLinkActive\"\r\n        >\r\n          Registration\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"navListItem\">\r\n        <NavLink\r\n          to=\"/login\"\r\n          exact\r\n          className=\"navLink\"\r\n          activeClassName=\"navLinkActive\"\r\n        >\r\n          Login\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  </AuthNavigationContainer>\r\n);\r\n\r\nexport default AuthNav;\r\n","import styled from \"styled-components\";\r\n\r\nexport const NavigationContainer = styled.nav`\r\n  .navList {\r\n    display: flex;\r\n\r\n    justify-content: flex-end;\r\n  }\r\n  .navListItem:not(:last-child) {\r\n    margin-right: 20px;\r\n  }\r\n  .navLink {\r\n    text-decoration: none;\r\n    font-weight: 700;\r\n    color: white;\r\n  }\r\n  .navLinkActive {\r\n    color: turquoise;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n// import { mainRoutes } from \"../../routes/mainRoutes\";\r\nimport { NavigationContainer } from \"./NavigationStyled\";\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <NavigationContainer>\r\n      <ul className=\"navList\">\r\n        <li className=\"navListItem\">\r\n          <NavLink\r\n            to=\"/\"\r\n            exact\r\n            className=\"navLink\"\r\n            activeClassName=\"navLinkActive\"\r\n          >\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"navListItem\">\r\n          <NavLink\r\n            to=\"/contacts\"\r\n            exact\r\n            className=\"navLink\"\r\n            activeClassName=\"navLinkActive\"\r\n          >\r\n            Contacts\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavigationContainer>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n\r\n// =====================================\r\n// <ul className=\"navList\">\r\n//     {mainRoutes.map((route) => (\r\n//       <li className=\"navListItem\" key={route.path}>\r\n//         <NavLink\r\n//           to={route.path}\r\n//           exact={route.exact}\r\n//           className=\"navLink\"\r\n//           activeClassName=\"navLinkActive\"\r\n//         >\r\n//           {route.name.toUpperCase()}\r\n//         </NavLink>\r\n//       </li>\r\n//     ))}\r\n//   </ul>\r\n","export default __webpack_public_path__ + \"static/media/user.869a9e23.png\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserName } from \"../../redux/auth/authSelectors\";\r\nimport authOperations from \"../../redux/auth/authOperations\";\r\nimport defaultAvatar from \"../../images/user.png\";\r\n\r\nconst styles = {\r\n  container: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    marginRight: 4,\r\n  },\r\n  name: {\r\n    fontWeight: 700,\r\n    marginRight: 20,\r\n  },\r\n};\r\n\r\nconst UserMenu = ({ avatar, name, onLogout }) => (\r\n  <div style={styles.container}>\r\n    <img src={avatar} alt={name} width=\"24\" style={styles.avatar} />\r\n    <span style={styles.name}>Welcome, {name}</span>\r\n    <button type=\"button\" onClick={onLogout}>\r\n      Logout\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  name: getUserName(state),\r\n  avatar: defaultAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logOut,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import styled from \"styled-components\";\r\n\r\nexport const HeaderContainer = styled.header`\r\n  height: 60px;\r\n  background-color: rgba(21, 36, 34, 0.25);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.05em;\r\n  padding: 0 30px;\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getIsAuthenticated } from \"../../redux/auth/authSelectors\";\r\nimport AuthNav from \"../navigation/AuthNav\";\r\nimport Navigation from \"../navigation/Navigation\";\r\nimport UserMenu from \"../navigation/UserMenu\";\r\nimport { HeaderContainer } from \"./HeaderStyled\";\r\n\r\nconst Header = ({ isAuthenticated }) => {\r\n  return (\r\n    <HeaderContainer>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n      {/* <AuthNav /> */}\r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import { lazy } from \"react\";\r\n\r\nexport const mainRoutes = [\r\n  {\r\n    name: \"Home\",\r\n    path: \"/\",\r\n    component: lazy(\r\n      () => import(\"../pages/HomePage\") /* webpackChunkName:\"HomePage\" */\r\n    ),\r\n    exact: true,\r\n    private: false,\r\n    restricted: false,\r\n  },\r\n  {\r\n    name: \"Contacts\",\r\n    path: \"/contacts\",\r\n    component: lazy(\r\n      () =>\r\n        import(\"../pages/ContactsPage\") /* webpackChunkName:\"ContactsPage\" */\r\n    ),\r\n    exact: true,\r\n    private: true,\r\n    restricted: false,\r\n  },\r\n  {\r\n    name: \"Register\",\r\n    path: \"/register\",\r\n    component: lazy(\r\n      () =>\r\n        import(\"../pages/RegisterPage\") /* webpackChunkName:\"RegisterPage\" */\r\n    ),\r\n    exact: true,\r\n    private: true,\r\n    restricted: true,\r\n  },\r\n  {\r\n    name: \"Login\",\r\n    path: \"/login\",\r\n    component: lazy(\r\n      () => import(\"../pages/LoginPage\") /* webpackChunkName:\"LoginPage\" */\r\n    ),\r\n    exact: true,\r\n    private: true,\r\n    restricted: true,\r\n  },\r\n];\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainContainer = styled.main`\r\n  padding: 20px;\r\n`;\r\n","import React, { Suspense } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { mainRoutes } from \"../../routes/mainRoutes\";\r\nimport { MainContainer } from \"./MainStyled\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst Main = () => {\r\n  return (\r\n    <MainContainer>\r\n      <Suspense\r\n        fallback={\r\n          <Loader type=\"ThreeDots\" color=\"#40e0d0\" height={70} width={70} />\r\n        }\r\n      >\r\n        <Switch>\r\n          {mainRoutes.map((route) => (\r\n            <Route\r\n              path={route.path}\r\n              exact={route.exact}\r\n              component={route.component}\r\n              key={route.path}\r\n            />\r\n          ))}\r\n        </Switch>\r\n      </Suspense>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React from \"react\";\nimport Header from \"./components/header/Header\";\nimport Main from \"./components/main/Main\";\n\nconst App = () => {\n  return (\n    <>\n      <Header />\n      <Main />\n    </>\n  );\n};\n\nexport default App;\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  // getCurrentUserRequest,\r\n  // getCurrentUserSuccess,\r\n  // getCurrentUserError,\r\n} from \"./authActions\";\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst userReducer = createReducer(initialUserState, {\r\n  [registerSuccess]: (_, { payload }) => payload.user,\r\n  [loginSuccess]: (_, { payload }) => payload.user,\r\n  [logoutSuccess]: (_, __) => initialUserState,\r\n});\r\n\r\nconst tokenReducer = createReducer(null, {\r\n  [registerSuccess]: (_, { payload }) => payload.token,\r\n  [loginSuccess]: (_, { payload }) => payload.token,\r\n  [logoutSuccess]: () => null,\r\n});\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [registerError]: (_, action) => action.payload,\r\n  [loginError]: (_, action) => action.payload,\r\n  [logoutError]: (_, action) => action.payload,\r\n});\r\n\r\nconst authReducer = combineReducers({\r\n  user: userReducer,\r\n  token: tokenReducer,\r\n  error: errorReducer,\r\n});\r\nexport default authReducer;\r\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  setFilter,\r\n} from \"./contactsActions\";\r\n\r\nconst itemsReducer = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  //возвращает массив контактов, который записывается поверх (распылять не надо)\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, actions) =>\r\n    state.filter((item) => item.id !== Number(actions.payload)),\r\n});\r\n\r\nconst filterReducer = createReducer(\"\", {\r\n  [setFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loadingReducer = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst contactsReducer = combineReducers({\r\n  items: itemsReducer,\r\n  filter: filterReducer,\r\n  loading: loadingReducer,\r\n});\r\n\r\nexport default contactsReducer;\r\n\r\n// ============================================================================\r\n// REDUX-TOOLKIT\r\n// import { createReducer } from \"@reduxjs/toolkit\";\r\n// import { combineReducers } from \"redux\";\r\n// import actions from \"./contactsActions\";\r\n\r\n// // console.log(actions.addContact.type);\r\n// // console.log(actions.deleteContact.type);\r\n// // console.log(actions.setFilter.type);\r\n\r\n// const itemsReducer = createReducer([], {\r\n//   addContactSuccess: (state, { payload }) => [...state, payload],\r\n//   [actions.deleteContact]: (state, { payload }) =>\r\n//     state.filter((item) => item.id !== payload),\r\n// });\r\n\r\n// const filterReducer = createReducer(\"\", {\r\n//   [actions.setFilter]: (_, { payload }) => payload,\r\n// });\r\n\r\n// const contactsReducer = combineReducers({\r\n//   items: itemsReducer,\r\n//   filter: filterReducer,\r\n// });\r\n\r\n// export default contactsReducer;\r\n\r\n// ============================================================================\r\n// // Создай редюсеры контактов и фильтра.\r\n// REDUX\r\n// import { combineReducers } from \"redux\";\r\n// import { ADD_CONTACT, DELETE_CONTACT, SET_FILTER } from \"./phonebookActions\";\r\n\r\n// // state={items:[{name:'', number:''},{name:'', number:''}], filter:''}\r\n\r\n// const itemsReducer = (state = [], { type, payload }) => {\r\n//   // console.log(payload);\r\n//   // console.log(state);\r\n//   switch (type) {\r\n//     case ADD_CONTACT:\r\n//       return [...state, payload];\r\n\r\n//     case DELETE_CONTACT:\r\n//       return state.filter((item) => item.id !== payload);\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n\r\n// const filterReducer = (state = \"\", action) => {\r\n//   switch (action.type) {\r\n//     case SET_FILTER:\r\n//       return action.payload;\r\n\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n\r\n// const contactsReducer = combineReducers({\r\n//   items: itemsReducer,\r\n//   filter: filterReducer,\r\n// });\r\n\r\n// // const rootReducer = combineReducers({\r\n// //   contacts: contactsReducer,\r\n// // });\r\n\r\n// export default contactsReducer;\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport authReducer from \"./auth/authReducer\";\r\nimport contactsReducer from \"./contacts/contactsReducer\";\r\nimport {\r\n  // persistStore,\r\n  // persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\n// import storage from \"redux-persist/lib/storage\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\n// const persistConfig = {\r\n//   key: \"root\",\r\n//   storage,\r\n//   whitelist: [\"items\"],\r\n// };\r\n// const rootReducer = contactsReducer;\r\n\r\n// const persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: authReducer,\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\n// const persistor = persistStore(store);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport \"modern-normalize/modern-normalize.css\";\n// import Loader from \"react-loader-spinner\";\n// import { PersistGate } from \"redux-persist/integration/react\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      {/* <PersistGate\n        loading={\n          <Loader type=\"ThreeDots\" color=\"#40e0d0\" height={70} width={70} />\n        }\n        persistor={store.persistor}\n      > */}\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n      {/* </PersistGate> */}\n    </Provider>\n  </React.StrictMode>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}